{"ID":"e463c287-0a2a-4764-83aa-174f03a2005c","VersionNumber":3,"Name":"High Avg Wait Time per User Session","Description":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\r\n\t<head>\r\n\t\t<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /><title>\r\n\t\t</title>\r\n\t\t<style type=\"text/css\">\r\n\t\t\t.cs2654AE3A{text-align:left;text-indent:0pt;margin:0pt 0pt 0pt 0pt}\r\n\t\t\t.csE19E36D{color:#000000;background-color:transparent;font-family:Tahoma;font-size:8pt;font-weight:normal;font-style:italic;}\r\n\t\t\t.csBEC5BAA2{color:#000000;background-color:transparent;font-family:Tahoma;font-size:8pt;font-weight:normal;font-style:normal;}\r\n\t\t\t.csF6EF92FE{color:#000000;background-color:transparent;font-family:Tahoma;font-size:8pt;font-weight:bold;font-style:normal;}\r\n\t\t\t.cs6BD174F1{color:#000000;background-color:transparent;font-family:Tahoma;font-size:8pt;font-weight:normal;font-style:normal;text-decoration: none;}\r\n\t\t\t.csC1A17A41{color:#0000FF;background-color:transparent;font-family:Tahoma;font-size:8pt;font-weight:normal;font-style:normal;text-decoration: underline;}\r\n\t\t</style>\r\n\t</head>\r\n\t<body>\r\n\t\t<p class=\"cs2654AE3A\"><span class=\"csE19E36D\">Wait time</span><span class=\"csBEC5BAA2\"> measures how long queries are waiting for CPU, disk, memory, or other resources, across all sessions. High avg wait time per second by itself may not be indicative of a problem though, because it doesn&#39;t consider the activity level of the system. For example, 5,000ms of avg wait time/sec would be poor on a system with only 30 active users, but excellent on a system with 3,000 active users.</span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\">&nbsp;</span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\">For this reason, this condition divides </span><span class=\"csE19E36D\">avg wait time/sec (Total)</span><span class=\"csBEC5BAA2\"> by the number of </span><span class=\"csE19E36D\">active user sessions</span><span class=\"csBEC5BAA2\"> to calculate the </span><span class=\"csE19E36D\">avg wait time per session</span><span class=\"csBEC5BAA2\">. If this value is over 50ms users may be experiencing noticeable delays.</span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\">&nbsp;</span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\">This value should not be considered a universal hard threshold, but more of a guideline, and may need to be adjusted for different systems. Note that SQL Sentry filters out innocuous waits, so the wait time used here will be lower than if collected directly from SQL Server, and more accurately reflects user-impacting waits.</span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\">&nbsp;</span></p><p class=\"cs2654AE3A\"><span class=\"csF6EF92FE\">See Also:</span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\"><a class=\"cs6BD174F1\" href=\"http://www.sqlskills.com/blogs/paul/wait-statistics-or-please-tell-me-where-it-hurts/\"><span class=\"csC1A17A41\">http://www.sqlskills.com/blogs/paul/wait-statistics-or-please-tell-me-where-it-hurts/</span></a></span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\"><a class=\"cs6BD174F1\" href=\"http://www.sqlperformance.com/category/waits-2\"><span class=\"csC1A17A41\">http://www.sqlperformance.com/category/waits-2</span></a></span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\">&nbsp;</span></p></body>\r\n</html>\r\n","AppliesToObjectTypeID":"0a11a887-823a-4461-87af-321cad1c3623","ConditionCategoryID":"805a84c9-7f1b-4b4d-a9ad-3dddcf9e0f17","OwnerObjectID":"b7c74f24-1a45-4115-8262-d7613878bbd6","OwnerObjectTypeID":"894de672-3fc0-4779-9a0d-880d4c207c77","RuleDefinition":"{\"OperationTypeID\":\"6c3d38f1-9317-4258-972a-cfee0a0d76b5\",\"Children\":[{\"OperationTypeID\":\"8fa3cd6a-960c-43bb-96e0-94092fc2c296\",\"ValueDataTypeID\":\"b35a57f5-b8f6-4e4e-9380-e9d328e3eabf\",\"Left\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":1,\"CounterID\":-150,\"CounterName\":\"Batches/sec\",\"CategoryName\":\"SQLServer:SQL Statistics\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null},\"ComparisonType\":2,\"Right\":{\"ValueTypeID\":\"07f87b7f-c063-47a2-a5be-772ba85ed827\",\"Value\":\"10\"},\"ID\":\"1\"},{\"OperationTypeID\":\"8fa3cd6a-960c-43bb-96e0-94092fc2c296\",\"ValueDataTypeID\":\"b35a57f5-b8f6-4e4e-9380-e9d328e3eabf\",\"Left\":{\"ValueTypeID\":\"aa61ee90-8a95-4fdf-a208-b9a4afa26d9d\",\"Database\":\"master\",\"Query\":\"select count(*) from sys.dm_exec_sessions where is_user_process = 1 and last_request_start_time > DATEADD(minute, -1, GETDATE())\",\"InstanceType\":0},\"ComparisonType\":2,\"Right\":{\"ValueTypeID\":\"07f87b7f-c063-47a2-a5be-772ba85ed827\",\"Value\":\"10\"},\"ID\":\"2\"},{\"OperationTypeID\":\"8fa3cd6a-960c-43bb-96e0-94092fc2c296\",\"ValueDataTypeID\":\"b35a57f5-b8f6-4e4e-9380-e9d328e3eabf\",\"Left\":{\"ValueTypeID\":\"2c6a4447-6aae-4a3f-94ec-854e5658775e\",\"Left\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":1,\"CounterID\":-221,\"CounterName\":\"Waits by Category\",\"CategoryName\":\"SQL Server Wait Statistics\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null},\"ArithmeticCompoundValueOperationType\":3,\"Right\":{\"ValueTypeID\":\"aa61ee90-8a95-4fdf-a208-b9a4afa26d9d\",\"Database\":\"master\",\"Query\":\"select count(*) from sys.dm_exec_sessions where is_user_process = 1 and last_request_start_time > DATEADD(minute, -1, GETDATE())\",\"InstanceType\":0}},\"ComparisonType\":2,\"Right\":{\"ValueTypeID\":\"07f87b7f-c063-47a2-a5be-772ba85ed827\",\"Value\":\"50\"},\"ID\":\"3\"}],\"BooleanOperationType\":0,\"ID\":\"0\"}","EvaluationFrequency":"00:01:00","IdlePeriod":"00:01:00","MaximumAllowedDuration":"00:00:05","AntiConditionID":"a74bdc9f-5102-4b7a-abe2-4ec71b5a5718","MinWindowsVersion":null,"MaxWindowsVersion":null,"MinSQLServerVersion":null,"MaxSQLServerVersion":null,"MinSSASVersion":null,"MaxSSASVersion":null,"MinVmwareVersion":null,"MaxVmwareVersion":null,"MinSqlDbVersion":null,"MaxSqlDbVersion":null,"MaximumInstanceCount":1,"ColorIndicator":null,"Severity":1,"Signature":{"ConditionID":"e463c287-0a2a-4764-83aa-174f03a2005c","VersionNumber":3,"AppliesToObjectTypeID":"0a11a887-823a-4461-87af-321cad1c3623","RuleDefinition":"{\"OperationTypeID\":\"6c3d38f1-9317-4258-972a-cfee0a0d76b5\",\"Children\":[{\"OperationTypeID\":\"8fa3cd6a-960c-43bb-96e0-94092fc2c296\",\"ValueDataTypeID\":\"b35a57f5-b8f6-4e4e-9380-e9d328e3eabf\",\"Left\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":1,\"CounterID\":-150,\"CounterName\":\"Batches/sec\",\"CategoryName\":\"SQLServer:SQL Statistics\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null},\"ComparisonType\":2,\"Right\":{\"ValueTypeID\":\"07f87b7f-c063-47a2-a5be-772ba85ed827\",\"Value\":\"10\"},\"ID\":\"1\"},{\"OperationTypeID\":\"8fa3cd6a-960c-43bb-96e0-94092fc2c296\",\"ValueDataTypeID\":\"b35a57f5-b8f6-4e4e-9380-e9d328e3eabf\",\"Left\":{\"ValueTypeID\":\"aa61ee90-8a95-4fdf-a208-b9a4afa26d9d\",\"Database\":\"master\",\"Query\":\"select count(*) from sys.dm_exec_sessions where is_user_process = 1 and last_request_start_time > DATEADD(minute, -1, GETDATE())\",\"InstanceType\":0},\"ComparisonType\":2,\"Right\":{\"ValueTypeID\":\"07f87b7f-c063-47a2-a5be-772ba85ed827\",\"Value\":\"10\"},\"ID\":\"2\"},{\"OperationTypeID\":\"8fa3cd6a-960c-43bb-96e0-94092fc2c296\",\"ValueDataTypeID\":\"b35a57f5-b8f6-4e4e-9380-e9d328e3eabf\",\"Left\":{\"ValueTypeID\":\"2c6a4447-6aae-4a3f-94ec-854e5658775e\",\"Left\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":1,\"CounterID\":-221,\"CounterName\":\"Waits by Category\",\"CategoryName\":\"SQL Server Wait Statistics\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null},\"ArithmeticCompoundValueOperationType\":3,\"Right\":{\"ValueTypeID\":\"aa61ee90-8a95-4fdf-a208-b9a4afa26d9d\",\"Database\":\"master\",\"Query\":\"select count(*) from sys.dm_exec_sessions where is_user_process = 1 and last_request_start_time > DATEADD(minute, -1, GETDATE())\",\"InstanceType\":0}},\"ComparisonType\":2,\"Right\":{\"ValueTypeID\":\"07f87b7f-c063-47a2-a5be-772ba85ed827\",\"Value\":\"50\"},\"ID\":\"3\"}],\"BooleanOperationType\":0,\"ID\":\"0\"}","PublisherID":0,"PublishDateUtc":"2015-07-17T17:05:15","Rights":0,"SignatureVersion":1,"SignaturePublicKey":"<RSAKeyValue><Modulus>uzJQ9gzevXFwOgw/hkcAtD+cA/bBbD1PRzhEZCxbZ6YwjJ1c9bbfXFItLQNwnm8bdWh2k57//qbpEj5DFHOW2EAjHc2Zw5m/vACm6OzelubPS5hbWvzshlaBJKm7KrpWQpPZClx/5eVvUVzOtlz+44RRTiOszObT58acJAQwA70=</Modulus><Exponent>AQAB</Exponent></RSAKeyValue>","Signature":"ZbfdBKbIEo/ol8YV97TS/d2NZZwTcp0OP+8kq2/y/iprfA76Xt9pme36J2wNhK597deD0CKZPRbMGdcKje4YAWzGnLf8083e0mVd4+Q9zwa2mQ7knaJMP/5PEeMZ8erWkoclLA0lGbMG5p/KjeUPxNzZrjvZNhi66WihnS+KrIQ=","IsSelfPublishedCondition":true},"Tags":"Performance,Waits,30SecEval","Areas":["SQL Server: Activity","SQL Server: Waits"],"ConditionSystemVersion":3,"MinDBSchemaVersion":null,"MaxDBSchemaVersion":null,"Items":[]}