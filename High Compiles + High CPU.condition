{"ID":"72c8f7c1-9861-4304-9082-74824cbe6cd2","VersionNumber":18,"Name":"High Compiles + High CPU","Description":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\r\n\t<head>\r\n\t\t<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /><title>\r\n\t\t</title>\r\n\t\t<style type=\"text/css\">\r\n\t\t\t.cs2654AE3A{text-align:left;text-indent:0pt;margin:0pt 0pt 0pt 0pt}\r\n\t\t\t.csBEC5BAA2{color:#000000;background-color:transparent;font-family:Tahoma;font-size:8pt;font-weight:normal;font-style:normal;}\r\n\t\t\t.csE19E36D{color:#000000;background-color:transparent;font-family:Tahoma;font-size:8pt;font-weight:normal;font-style:italic;}\r\n\t\t</style>\r\n\t</head>\r\n\t<body>\r\n\t\t<p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\">Query plan compiles can be a CPU-intensive operation. If total CPU is high for an extended period and compiles are also high, they may be causing or at least contributing to the high CPU.</span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\">&nbsp;</span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\">See the </span><span class=\"csE19E36D\">High Compiles</span><span class=\"csBEC5BAA2\"> conditions for more details on troubleshooting the issue.</span></p></body>\r\n</html>\r\n","AppliesToObjectTypeID":"0a11a887-823a-4461-87af-321cad1c3623","ConditionCategoryID":"805a84c9-7f1b-4b4d-a9ad-3dddcf9e0f17","OwnerObjectID":"b7c74f24-1a45-4115-8262-d7613878bbd6","OwnerObjectTypeID":"894de672-3fc0-4779-9a0d-880d4c207c77","RuleDefinition":"{\"OperationTypeID\":\"6c3d38f1-9317-4258-972a-cfee0a0d76b5\",\"Children\":[{\"OperationTypeID\":\"281290ef-d1a9-47f0-a49d-7dd82a5f3a3f\",\"DynamicConditionID\":\"4af1c710-cbf8-4f2a-9929-32b3cc375e64\",\"ID\":\"1\"},{\"OperationTypeID\":\"6c3d38f1-9317-4258-972a-cfee0a0d76b5\",\"Children\":[{\"OperationTypeID\":\"281290ef-d1a9-47f0-a49d-7dd82a5f3a3f\",\"DynamicConditionID\":\"74c4dde2-0049-4874-8590-80f0646b85d1\",\"ID\":\"3\"},{\"OperationTypeID\":\"281290ef-d1a9-47f0-a49d-7dd82a5f3a3f\",\"DynamicConditionID\":\"2e5f1af5-53b8-478c-b89a-694dcca2f71e\",\"ID\":\"4\"}],\"BooleanOperationType\":1,\"ID\":\"2\"}],\"BooleanOperationType\":0,\"ID\":\"0\"}","EvaluationFrequency":"00:00:30","IdlePeriod":"00:01:00","MaximumAllowedDuration":"00:00:05","AntiConditionID":"63016b4c-c537-4c2a-aa87-0b9c2b4cd722","MinWindowsVersion":null,"MaxWindowsVersion":null,"MinSQLServerVersion":null,"MaxSQLServerVersion":null,"MinSSASVersion":null,"MaxSSASVersion":null,"MinVmwareVersion":null,"MaxVmwareVersion":null,"MinSqlDbVersion":null,"MaxSqlDbVersion":null,"MaximumInstanceCount":1,"ColorIndicator":null,"Severity":1,"Signature":{"ConditionID":"72c8f7c1-9861-4304-9082-74824cbe6cd2","VersionNumber":18,"AppliesToObjectTypeID":"0a11a887-823a-4461-87af-321cad1c3623","RuleDefinition":"{\"OperationTypeID\":\"6c3d38f1-9317-4258-972a-cfee0a0d76b5\",\"Children\":[{\"OperationTypeID\":\"281290ef-d1a9-47f0-a49d-7dd82a5f3a3f\",\"DynamicConditionID\":\"4af1c710-cbf8-4f2a-9929-32b3cc375e64\",\"ID\":\"1\"},{\"OperationTypeID\":\"6c3d38f1-9317-4258-972a-cfee0a0d76b5\",\"Children\":[{\"OperationTypeID\":\"281290ef-d1a9-47f0-a49d-7dd82a5f3a3f\",\"DynamicConditionID\":\"74c4dde2-0049-4874-8590-80f0646b85d1\",\"ID\":\"3\"},{\"OperationTypeID\":\"281290ef-d1a9-47f0-a49d-7dd82a5f3a3f\",\"DynamicConditionID\":\"2e5f1af5-53b8-478c-b89a-694dcca2f71e\",\"ID\":\"4\"}],\"BooleanOperationType\":1,\"ID\":\"2\"}],\"BooleanOperationType\":0,\"ID\":\"0\"}","PublisherID":0,"PublishDateUtc":"2017-10-06T18:24:39","Rights":0,"SignatureVersion":1,"SignaturePublicKey":"<RSAKeyValue><Modulus>uzJQ9gzevXFwOgw/hkcAtD+cA/bBbD1PRzhEZCxbZ6YwjJ1c9bbfXFItLQNwnm8bdWh2k57//qbpEj5DFHOW2EAjHc2Zw5m/vACm6OzelubPS5hbWvzshlaBJKm7KrpWQpPZClx/5eVvUVzOtlz+44RRTiOszObT58acJAQwA70=</Modulus><Exponent>AQAB</Exponent></RSAKeyValue>","Signature":"g1BnpszKIU1QcBAlzakZm17EZb+X7JkKR832fSqxaSlVA+BOJajYvHY90WGeOo2hh8SM0hAOJ13nKbW1LaMRh3Qu4Afou6Dj58kqmJtDkYYmb9bOG0Ir1WumIkfaDEQiiHhCRo9fKoH4/3CBc6+rHIE/j1AI0KqhABz1epjIrzA=","IsSelfPublishedCondition":true},"Tags":"Performance,CPU,SIOSIQ","Areas":["SQL Server: Activity","Windows: CPU Usage"],"ConditionSystemVersion":3,"MinDBSchemaVersion":null,"MaxDBSchemaVersion":null,"Items":[{"ID":"4af1c710-cbf8-4f2a-9929-32b3cc375e64","VersionNumber":1,"Name":"High CPU","Description":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\r\n\t<head>\r\n\t\t<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /><title>\r\n\t\t</title>\r\n\t\t<style type=\"text/css\">\r\n\t\t\t.cs2654AE3A{text-align:left;text-indent:0pt;margin:0pt 0pt 0pt 0pt}\r\n\t\t\t.csBEC5BAA2{color:#000000;background-color:transparent;font-family:Tahoma;font-size:8pt;font-weight:normal;font-style:normal;}\r\n\t\t\t.csE19E36D{color:#000000;background-color:transparent;font-family:Tahoma;font-size:8pt;font-weight:normal;font-style:italic;}\r\n\t\t</style>\r\n\t</head>\r\n\t<body>\r\n\t\t<p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\">Sustained CPU utilization greater than 90% may indicate a CPU bottleneck.</span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\">&nbsp;</span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\">Use the Peformance Advisor for Windows </span><span class=\"csE19E36D\">Processes </span><span class=\"csBEC5BAA2\">tab to ascertain the processes causing the high CPU. On dedicated SQL Server machines most CPU should be associated with the SQL Server process(es). If SQL Server is causing the high CPU, use </span><span class=\"csE19E36D\">Top SQL</span><span class=\"csBEC5BAA2\"> and/or </span><span class=\"csE19E36D\">QuickTrace </span><span class=\"csBEC5BAA2\">to determine which sessions and queries are consuming the most CPU.</span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\">&nbsp;</span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\">NOTE: If you launch </span><span class=\"csE19E36D\">QuickTrace </span><span class=\"csBEC5BAA2\">by highlighting a range on the </span><span class=\"csE19E36D\">CPU Usage</span><span class=\"csBEC5BAA2\"> chart, the results will be pre-sorted by CPU % descending, so the greatest consumers will be on top.</span></p></body>\r\n</html>\r\n","AppliesToObjectTypeID":"49a296ea-155f-4347-8d33-481fc53b6492","ConditionCategoryID":"805a84c9-7f1b-4b4d-a9ad-3dddcf9e0f17","OwnerObjectID":"b7c74f24-1a45-4115-8262-d7613878bbd6","OwnerObjectTypeID":"894de672-3fc0-4779-9a0d-880d4c207c77","RuleDefinition":"{\"OperationTypeID\":\"6c3d38f1-9317-4258-972a-cfee0a0d76b5\",\"Children\":[{\"OperationTypeID\":\"8fa3cd6a-960c-43bb-96e0-94092fc2c296\",\"ValueDataTypeID\":\"b35a57f5-b8f6-4e4e-9380-e9d328e3eabf\",\"Left\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":0,\"CounterID\":1858,\"CounterName\":\"% Processor Time\",\"CategoryName\":\"Processor Information\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null},\"ComparisonType\":2,\"Right\":{\"ValueTypeID\":\"07f87b7f-c063-47a2-a5be-772ba85ed827\",\"Value\":\"90\"},\"ID\":\"1\"}],\"BooleanOperationType\":0,\"ID\":\"0\"}","EvaluationFrequency":"00:00:30","IdlePeriod":"00:01:00","MaximumAllowedDuration":null,"AntiConditionID":"6a258c09-8a8c-4839-861a-047830d9d3a9","MinWindowsVersion":null,"MaxWindowsVersion":null,"MinSQLServerVersion":null,"MaxSQLServerVersion":null,"MinSSASVersion":null,"MaxSSASVersion":null,"MinVmwareVersion":null,"MaxVmwareVersion":null,"MinSqlDbVersion":null,"MaxSqlDbVersion":null,"MaximumInstanceCount":1,"ColorIndicator":-65281,"Severity":0,"Signature":{"ConditionID":"4af1c710-cbf8-4f2a-9929-32b3cc375e64","VersionNumber":1,"AppliesToObjectTypeID":"49a296ea-155f-4347-8d33-481fc53b6492","RuleDefinition":"{\"OperationTypeID\":\"6c3d38f1-9317-4258-972a-cfee0a0d76b5\",\"Children\":[{\"OperationTypeID\":\"8fa3cd6a-960c-43bb-96e0-94092fc2c296\",\"ValueDataTypeID\":\"b35a57f5-b8f6-4e4e-9380-e9d328e3eabf\",\"Left\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":0,\"CounterID\":1858,\"CounterName\":\"% Processor Time\",\"CategoryName\":\"Processor Information\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null},\"ComparisonType\":2,\"Right\":{\"ValueTypeID\":\"07f87b7f-c063-47a2-a5be-772ba85ed827\",\"Value\":\"90\"},\"ID\":\"1\"}],\"BooleanOperationType\":0,\"ID\":\"0\"}","PublisherID":0,"PublishDateUtc":"2015-07-09T20:49:28","Rights":0,"SignatureVersion":1,"SignaturePublicKey":"<RSAKeyValue><Modulus>uzJQ9gzevXFwOgw/hkcAtD+cA/bBbD1PRzhEZCxbZ6YwjJ1c9bbfXFItLQNwnm8bdWh2k57//qbpEj5DFHOW2EAjHc2Zw5m/vACm6OzelubPS5hbWvzshlaBJKm7KrpWQpPZClx/5eVvUVzOtlz+44RRTiOszObT58acJAQwA70=</Modulus><Exponent>AQAB</Exponent></RSAKeyValue>","Signature":"dvE3ElboUrwHjV65SHUwcf5CmeLPdfuAU8VIr3Em9y1KATZ8sVDwbI064JKiP+tIX1h8U1mRBspZb2XYI0R8LPOris/cM/pJLykTcLu2ajklyzORXq15jMRNoKIh6Yc5qXjpHgWb9V2vQZ7D51K0MKoTVz66d2CMnHsroSGrOt8=","IsSelfPublishedCondition":true},"Tags":"Performance,CPU","Areas":["Windows: CPU Usage"],"ConditionSystemVersion":3,"MinDBSchemaVersion":null,"MaxDBSchemaVersion":null,"Items":[]},{"ID":"74c4dde2-0049-4874-8590-80f0646b85d1","VersionNumber":4,"Name":"High Compiles","Description":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\r\n\t<head>\r\n\t\t<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /><title>\r\n\t\t</title>\r\n\t\t<style type=\"text/css\">\r\n\t\t\t.cs2654AE3A{text-align:left;text-indent:0pt;margin:0pt 0pt 0pt 0pt}\r\n\t\t\t.csBEC5BAA2{color:#000000;background-color:transparent;font-family:Tahoma;font-size:8pt;font-weight:normal;font-style:normal;}\r\n\t\t\t.cs6BD174F1{color:#000000;background-color:transparent;font-family:Tahoma;font-size:8pt;font-weight:normal;font-style:normal;text-decoration: none;}\r\n\t\t\t.csC1A17A41{color:#0000FF;background-color:transparent;font-family:Tahoma;font-size:8pt;font-weight:normal;font-style:normal;text-decoration: underline;}\r\n\t\t\t.csE19E36D{color:#000000;background-color:transparent;font-family:Tahoma;font-size:8pt;font-weight:normal;font-style:italic;}\r\n\t\t\t.csF6EF92FE{color:#000000;background-color:transparent;font-family:Tahoma;font-size:8pt;font-weight:bold;font-style:normal;}\r\n\t\t</style>\r\n\t</head>\r\n\t<body>\r\n\t\t<p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\">Query plan compiles should generally be &lt;15% of batches per second.&nbsp;Higher values indicate plan reuse is low, and will often correlate with high CPU, since plan compilation can be a CPU-intensive operation. High compiles may correlate with low plan cache hit ratios, and can be an indicator of memory pressure, since there may not be enough room to keep all plans in cache.<br/><br/>If you see consistently high compiles, run a&nbsp;<a class=\"cs6BD174F1\" href=\"https://www.sentryone.com/help/ug/#PA_QuickTraces.html\"><span class=\"csC1A17A41\">Quick Trace</span></a></span><span class=\"csBEC5BAA2\">&nbsp;and sort the results by </span><span class=\"csE19E36D\">Cache Misses</span><span class=\"csBEC5BAA2\">, then expand details to view actual compiling statements (SP:CacheMiss events, highlighted) along with the reason (SubClass) and procedure (Object).</span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\"><br/></span><span class=\"csF6EF92FE\">See Also:</span><span class=\"csBEC5BAA2\"><br/><a class=\"cs6BD174F1\" href=\"http://technet.microsoft.com/en-us/library/cc966425.aspx\"><span class=\"csC1A17A41\">http://technet.microsoft.com/en-us/library/cc966425.aspx</span></a></span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\"><br/><a class=\"cs6BD174F1\" href=\"http://technet.microsoft.com/en-us/library/cc293623.aspx\"><span class=\"csC1A17A41\">http://technet.microsoft.com/en-us/library/cc293623.aspx </span></a></span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\">&nbsp;</span></p></body>\r\n</html>\r\n","AppliesToObjectTypeID":"0a11a887-823a-4461-87af-321cad1c3623","ConditionCategoryID":"805a84c9-7f1b-4b4d-a9ad-3dddcf9e0f17","OwnerObjectID":"b7c74f24-1a45-4115-8262-d7613878bbd6","OwnerObjectTypeID":"894de672-3fc0-4779-9a0d-880d4c207c77","RuleDefinition":"{\"OperationTypeID\":\"6c3d38f1-9317-4258-972a-cfee0a0d76b5\",\"Children\":[{\"OperationTypeID\":\"8fa3cd6a-960c-43bb-96e0-94092fc2c296\",\"ValueDataTypeID\":\"b35a57f5-b8f6-4e4e-9380-e9d328e3eabf\",\"Left\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":1,\"CounterID\":-150,\"CounterName\":\"Batches/sec\",\"CategoryName\":\"SQLServer:SQL Statistics\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null,\"GlobalBaselineName\":null},\"ComparisonType\":2,\"Right\":{\"ValueTypeID\":\"07f87b7f-c063-47a2-a5be-772ba85ed827\",\"Value\":\"100\"},\"ID\":\"1\"},{\"OperationTypeID\":\"8fa3cd6a-960c-43bb-96e0-94092fc2c296\",\"ValueDataTypeID\":\"b35a57f5-b8f6-4e4e-9380-e9d328e3eabf\",\"Left\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":1,\"CounterID\":-151,\"CounterName\":\"Compiles/sec\",\"CategoryName\":\"SQLServer:SQL Statistics\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null,\"GlobalBaselineName\":null},\"ComparisonType\":2,\"Right\":{\"ValueTypeID\":\"2c6a4447-6aae-4a3f-94ec-854e5658775e\",\"Left\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":1,\"CounterID\":-150,\"CounterName\":\"Batches/sec\",\"CategoryName\":\"SQLServer:SQL Statistics\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null,\"GlobalBaselineName\":null},\"ArithmeticCompoundValueOperationType\":2,\"Right\":{\"ValueTypeID\":\"07f87b7f-c063-47a2-a5be-772ba85ed827\",\"Value\":\"0.15\"}},\"ID\":\"2\"}],\"BooleanOperationType\":0,\"ID\":\"0\"}","EvaluationFrequency":"00:00:30","IdlePeriod":"00:01:00","MaximumAllowedDuration":"00:00:05","AntiConditionID":"0df178a6-96c3-4857-9ca2-89bc40150473","MinWindowsVersion":null,"MaxWindowsVersion":null,"MinSQLServerVersion":null,"MaxSQLServerVersion":null,"MinSSASVersion":null,"MaxSSASVersion":null,"MinVmwareVersion":null,"MaxVmwareVersion":null,"MinSqlDbVersion":null,"MaxSqlDbVersion":null,"MaximumInstanceCount":1,"ColorIndicator":null,"Severity":0,"Signature":{"ConditionID":"74c4dde2-0049-4874-8590-80f0646b85d1","VersionNumber":4,"AppliesToObjectTypeID":"0a11a887-823a-4461-87af-321cad1c3623","RuleDefinition":"{\"OperationTypeID\":\"6c3d38f1-9317-4258-972a-cfee0a0d76b5\",\"Children\":[{\"OperationTypeID\":\"8fa3cd6a-960c-43bb-96e0-94092fc2c296\",\"ValueDataTypeID\":\"b35a57f5-b8f6-4e4e-9380-e9d328e3eabf\",\"Left\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":1,\"CounterID\":-150,\"CounterName\":\"Batches/sec\",\"CategoryName\":\"SQLServer:SQL Statistics\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null,\"GlobalBaselineName\":null},\"ComparisonType\":2,\"Right\":{\"ValueTypeID\":\"07f87b7f-c063-47a2-a5be-772ba85ed827\",\"Value\":\"100\"},\"ID\":\"1\"},{\"OperationTypeID\":\"8fa3cd6a-960c-43bb-96e0-94092fc2c296\",\"ValueDataTypeID\":\"b35a57f5-b8f6-4e4e-9380-e9d328e3eabf\",\"Left\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":1,\"CounterID\":-151,\"CounterName\":\"Compiles/sec\",\"CategoryName\":\"SQLServer:SQL Statistics\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null,\"GlobalBaselineName\":null},\"ComparisonType\":2,\"Right\":{\"ValueTypeID\":\"2c6a4447-6aae-4a3f-94ec-854e5658775e\",\"Left\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":1,\"CounterID\":-150,\"CounterName\":\"Batches/sec\",\"CategoryName\":\"SQLServer:SQL Statistics\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null,\"GlobalBaselineName\":null},\"ArithmeticCompoundValueOperationType\":2,\"Right\":{\"ValueTypeID\":\"07f87b7f-c063-47a2-a5be-772ba85ed827\",\"Value\":\"0.15\"}},\"ID\":\"2\"}],\"BooleanOperationType\":0,\"ID\":\"0\"}","PublisherID":0,"PublishDateUtc":"2017-10-06T18:23:03","Rights":0,"SignatureVersion":1,"SignaturePublicKey":"<RSAKeyValue><Modulus>uzJQ9gzevXFwOgw/hkcAtD+cA/bBbD1PRzhEZCxbZ6YwjJ1c9bbfXFItLQNwnm8bdWh2k57//qbpEj5DFHOW2EAjHc2Zw5m/vACm6OzelubPS5hbWvzshlaBJKm7KrpWQpPZClx/5eVvUVzOtlz+44RRTiOszObT58acJAQwA70=</Modulus><Exponent>AQAB</Exponent></RSAKeyValue>","Signature":"llpMTJbLbpyVyPCyCpxpK4+aaCg7N+GiFapMf0HxBqXvhyJNAB80FNtBpvkv+swuHZSLEbfzbHd6vUTKReSPVDCy48BIi5QBPFym1CAklHqDlKdWObwemEViFpAOWzprTOevojZwAfowUG0jZVhVqwFJ1XoGNsLuXnZRqsq0xO4=","IsSelfPublishedCondition":true},"Tags":"Performance,CPU,UpdateForPublish,11.2.3","Areas":["SQL Server: Activity"],"ConditionSystemVersion":3,"MinDBSchemaVersion":null,"MaxDBSchemaVersion":null,"Items":[]},{"ID":"2e5f1af5-53b8-478c-b89a-694dcca2f71e","VersionNumber":10,"Name":"High Recompiles","Description":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\r\n\t<head>\r\n\t\t<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /><title>\r\n\t\t</title>\r\n\t\t<style type=\"text/css\">\r\n\t\t\t.cs2654AE3A{text-align:left;text-indent:0pt;margin:0pt 0pt 0pt 0pt}\r\n\t\t\t.csBEC5BAA2{color:#000000;background-color:transparent;font-family:Tahoma;font-size:8pt;font-weight:normal;font-style:normal;}\r\n\t\t\t.cs6BD174F1{color:#000000;background-color:transparent;font-family:Tahoma;font-size:8pt;font-weight:normal;font-style:normal;text-decoration: none;}\r\n\t\t\t.csC1A17A41{color:#0000FF;background-color:transparent;font-family:Tahoma;font-size:8pt;font-weight:normal;font-style:normal;text-decoration: underline;}\r\n\t\t\t.csE19E36D{color:#000000;background-color:transparent;font-family:Tahoma;font-size:8pt;font-weight:normal;font-style:italic;}\r\n\t\t\t.csF6EF92FE{color:#000000;background-color:transparent;font-family:Tahoma;font-size:8pt;font-weight:bold;font-style:normal;}\r\n\t\t</style>\r\n\t</head>\r\n\t<body>\r\n\t\t<p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\">Query plan recompiles should generally be &lt;15% of initial compiles, and will often correlate with high CPU, since plan compilation can be a CPU-intensive operation. They may be caused by statistics updates, schema changes, etc., and may correlate with low plan cache hit ratios.</span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\"><br/>If you see consistently high recompiles, run a&nbsp;<a class=\"cs6BD174F1\" href=\"https://sentryone.com/help/ug/PA_QuickTraces.html\"><span class=\"csC1A17A41\">Quick Trace</span></a></span><span class=\"csBEC5BAA2\">&nbsp;and sort the results by </span><span class=\"csE19E36D\">Recompiles</span><span class=\"csBEC5BAA2\">, then expand details to view actual recompiling statements (SP:Recompile events, highlighted) along with the reason (SubClass) and procedure (Object).<br/><br/></span><span class=\"csF6EF92FE\">See Also:</span><span class=\"csBEC5BAA2\"><br/><a class=\"cs6BD174F1\" href=\"http://technet.microsoft.com/en-us/library/cc966425.aspx\"><span class=\"csC1A17A41\">http://technet.microsoft.com/en-us/library/cc966425.aspx</span></a></span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\"><br/><a class=\"cs6BD174F1\" href=\"http://technet.microsoft.com/en-us/library/cc293623.aspx\"><span class=\"csC1A17A41\">http://technet.microsoft.com/en-us/library/cc293623.aspx </span></a></span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\">&nbsp;</span></p></body>\r\n</html>\r\n","AppliesToObjectTypeID":"0a11a887-823a-4461-87af-321cad1c3623","ConditionCategoryID":"805a84c9-7f1b-4b4d-a9ad-3dddcf9e0f17","OwnerObjectID":"b7c74f24-1a45-4115-8262-d7613878bbd6","OwnerObjectTypeID":"894de672-3fc0-4779-9a0d-880d4c207c77","RuleDefinition":"{\"OperationTypeID\":\"6c3d38f1-9317-4258-972a-cfee0a0d76b5\",\"Children\":[{\"OperationTypeID\":\"8fa3cd6a-960c-43bb-96e0-94092fc2c296\",\"ValueDataTypeID\":\"b35a57f5-b8f6-4e4e-9380-e9d328e3eabf\",\"Left\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":1,\"CounterID\":-151,\"CounterName\":\"Compiles/sec\",\"CategoryName\":\"SQLServer:SQL Statistics\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null,\"GlobalBaselineName\":null},\"ComparisonType\":2,\"Right\":{\"ValueTypeID\":\"07f87b7f-c063-47a2-a5be-772ba85ed827\",\"Value\":\"30\"},\"ID\":\"1\"},{\"OperationTypeID\":\"281290ef-d1a9-47f0-a49d-7dd82a5f3a3f\",\"DynamicConditionID\":\"74c4dde2-0049-4874-8590-80f0646b85d1\",\"ID\":\"2\"},{\"OperationTypeID\":\"8fa3cd6a-960c-43bb-96e0-94092fc2c296\",\"ValueDataTypeID\":\"b35a57f5-b8f6-4e4e-9380-e9d328e3eabf\",\"Left\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":1,\"CounterID\":-152,\"CounterName\":\"Recompiles/sec\",\"CategoryName\":\"SQLServer:SQL Statistics\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null,\"GlobalBaselineName\":null},\"ComparisonType\":2,\"Right\":{\"ValueTypeID\":\"2c6a4447-6aae-4a3f-94ec-854e5658775e\",\"Left\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":1,\"CounterID\":-151,\"CounterName\":\"Compiles/sec\",\"CategoryName\":\"SQLServer:SQL Statistics\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null,\"GlobalBaselineName\":null},\"ArithmeticCompoundValueOperationType\":2,\"Right\":{\"ValueTypeID\":\"07f87b7f-c063-47a2-a5be-772ba85ed827\",\"Value\":\"0.15\"}},\"ID\":\"3\"}],\"BooleanOperationType\":0,\"ID\":\"0\"}","EvaluationFrequency":"00:00:30","IdlePeriod":"00:01:00","MaximumAllowedDuration":"00:00:05","AntiConditionID":"c9df7d9b-8aca-4696-b447-4f13fa67ccf8","MinWindowsVersion":null,"MaxWindowsVersion":null,"MinSQLServerVersion":null,"MaxSQLServerVersion":null,"MinSSASVersion":null,"MaxSSASVersion":null,"MinVmwareVersion":null,"MaxVmwareVersion":null,"MinSqlDbVersion":null,"MaxSqlDbVersion":null,"MaximumInstanceCount":1,"ColorIndicator":null,"Severity":0,"Signature":{"ConditionID":"2e5f1af5-53b8-478c-b89a-694dcca2f71e","VersionNumber":10,"AppliesToObjectTypeID":"0a11a887-823a-4461-87af-321cad1c3623","RuleDefinition":"{\"OperationTypeID\":\"6c3d38f1-9317-4258-972a-cfee0a0d76b5\",\"Children\":[{\"OperationTypeID\":\"8fa3cd6a-960c-43bb-96e0-94092fc2c296\",\"ValueDataTypeID\":\"b35a57f5-b8f6-4e4e-9380-e9d328e3eabf\",\"Left\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":1,\"CounterID\":-151,\"CounterName\":\"Compiles/sec\",\"CategoryName\":\"SQLServer:SQL Statistics\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null,\"GlobalBaselineName\":null},\"ComparisonType\":2,\"Right\":{\"ValueTypeID\":\"07f87b7f-c063-47a2-a5be-772ba85ed827\",\"Value\":\"30\"},\"ID\":\"1\"},{\"OperationTypeID\":\"281290ef-d1a9-47f0-a49d-7dd82a5f3a3f\",\"DynamicConditionID\":\"74c4dde2-0049-4874-8590-80f0646b85d1\",\"ID\":\"2\"},{\"OperationTypeID\":\"8fa3cd6a-960c-43bb-96e0-94092fc2c296\",\"ValueDataTypeID\":\"b35a57f5-b8f6-4e4e-9380-e9d328e3eabf\",\"Left\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":1,\"CounterID\":-152,\"CounterName\":\"Recompiles/sec\",\"CategoryName\":\"SQLServer:SQL Statistics\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null,\"GlobalBaselineName\":null},\"ComparisonType\":2,\"Right\":{\"ValueTypeID\":\"2c6a4447-6aae-4a3f-94ec-854e5658775e\",\"Left\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":1,\"CounterID\":-151,\"CounterName\":\"Compiles/sec\",\"CategoryName\":\"SQLServer:SQL Statistics\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null,\"GlobalBaselineName\":null},\"ArithmeticCompoundValueOperationType\":2,\"Right\":{\"ValueTypeID\":\"07f87b7f-c063-47a2-a5be-772ba85ed827\",\"Value\":\"0.15\"}},\"ID\":\"3\"}],\"BooleanOperationType\":0,\"ID\":\"0\"}","PublisherID":0,"PublishDateUtc":"2017-10-06T18:24:39","Rights":0,"SignatureVersion":1,"SignaturePublicKey":"<RSAKeyValue><Modulus>uzJQ9gzevXFwOgw/hkcAtD+cA/bBbD1PRzhEZCxbZ6YwjJ1c9bbfXFItLQNwnm8bdWh2k57//qbpEj5DFHOW2EAjHc2Zw5m/vACm6OzelubPS5hbWvzshlaBJKm7KrpWQpPZClx/5eVvUVzOtlz+44RRTiOszObT58acJAQwA70=</Modulus><Exponent>AQAB</Exponent></RSAKeyValue>","Signature":"h5QLHGkMpvK+6lFRdUEwVKKs/oeGQhFNAztLv6BMYJV7cb4b/irW5FtcmY+5y16mVxAzPstF33zaVYjA7yk9T5ot9e+HQVaCUYG9XyNehIX2C60klHYfCQ8rR4jL93lD1FJujXDDwjKDrKZ4OQObU+0+SiU8wT9poswPSH6gvI4=","IsSelfPublishedCondition":true},"Tags":"Performance,CPU,UpdateForPublish,11.2.3","Areas":["SQL Server: Activity","SQL Server: Cache Hit Ratios"],"ConditionSystemVersion":3,"MinDBSchemaVersion":null,"MaxDBSchemaVersion":null,"Items":[{"ID":"74c4dde2-0049-4874-8590-80f0646b85d1","VersionNumber":4,"Name":"High Compiles","Description":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\r\n\t<head>\r\n\t\t<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /><title>\r\n\t\t</title>\r\n\t\t<style type=\"text/css\">\r\n\t\t\t.cs2654AE3A{text-align:left;text-indent:0pt;margin:0pt 0pt 0pt 0pt}\r\n\t\t\t.csBEC5BAA2{color:#000000;background-color:transparent;font-family:Tahoma;font-size:8pt;font-weight:normal;font-style:normal;}\r\n\t\t\t.cs6BD174F1{color:#000000;background-color:transparent;font-family:Tahoma;font-size:8pt;font-weight:normal;font-style:normal;text-decoration: none;}\r\n\t\t\t.csC1A17A41{color:#0000FF;background-color:transparent;font-family:Tahoma;font-size:8pt;font-weight:normal;font-style:normal;text-decoration: underline;}\r\n\t\t\t.csE19E36D{color:#000000;background-color:transparent;font-family:Tahoma;font-size:8pt;font-weight:normal;font-style:italic;}\r\n\t\t\t.csF6EF92FE{color:#000000;background-color:transparent;font-family:Tahoma;font-size:8pt;font-weight:bold;font-style:normal;}\r\n\t\t</style>\r\n\t</head>\r\n\t<body>\r\n\t\t<p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\">Query plan compiles should generally be &lt;15% of batches per second.&nbsp;Higher values indicate plan reuse is low, and will often correlate with high CPU, since plan compilation can be a CPU-intensive operation. High compiles may correlate with low plan cache hit ratios, and can be an indicator of memory pressure, since there may not be enough room to keep all plans in cache.<br/><br/>If you see consistently high compiles, run a&nbsp;<a class=\"cs6BD174F1\" href=\"https://www.sentryone.com/help/ug/#PA_QuickTraces.html\"><span class=\"csC1A17A41\">Quick Trace</span></a></span><span class=\"csBEC5BAA2\">&nbsp;and sort the results by </span><span class=\"csE19E36D\">Cache Misses</span><span class=\"csBEC5BAA2\">, then expand details to view actual compiling statements (SP:CacheMiss events, highlighted) along with the reason (SubClass) and procedure (Object).</span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\"><br/></span><span class=\"csF6EF92FE\">See Also:</span><span class=\"csBEC5BAA2\"><br/><a class=\"cs6BD174F1\" href=\"http://technet.microsoft.com/en-us/library/cc966425.aspx\"><span class=\"csC1A17A41\">http://technet.microsoft.com/en-us/library/cc966425.aspx</span></a></span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\"><br/><a class=\"cs6BD174F1\" href=\"http://technet.microsoft.com/en-us/library/cc293623.aspx\"><span class=\"csC1A17A41\">http://technet.microsoft.com/en-us/library/cc293623.aspx </span></a></span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\">&nbsp;</span></p></body>\r\n</html>\r\n","AppliesToObjectTypeID":"0a11a887-823a-4461-87af-321cad1c3623","ConditionCategoryID":"805a84c9-7f1b-4b4d-a9ad-3dddcf9e0f17","OwnerObjectID":"b7c74f24-1a45-4115-8262-d7613878bbd6","OwnerObjectTypeID":"894de672-3fc0-4779-9a0d-880d4c207c77","RuleDefinition":"{\"OperationTypeID\":\"6c3d38f1-9317-4258-972a-cfee0a0d76b5\",\"Children\":[{\"OperationTypeID\":\"8fa3cd6a-960c-43bb-96e0-94092fc2c296\",\"ValueDataTypeID\":\"b35a57f5-b8f6-4e4e-9380-e9d328e3eabf\",\"Left\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":1,\"CounterID\":-150,\"CounterName\":\"Batches/sec\",\"CategoryName\":\"SQLServer:SQL Statistics\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null,\"GlobalBaselineName\":null},\"ComparisonType\":2,\"Right\":{\"ValueTypeID\":\"07f87b7f-c063-47a2-a5be-772ba85ed827\",\"Value\":\"100\"},\"ID\":\"1\"},{\"OperationTypeID\":\"8fa3cd6a-960c-43bb-96e0-94092fc2c296\",\"ValueDataTypeID\":\"b35a57f5-b8f6-4e4e-9380-e9d328e3eabf\",\"Left\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":1,\"CounterID\":-151,\"CounterName\":\"Compiles/sec\",\"CategoryName\":\"SQLServer:SQL Statistics\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null,\"GlobalBaselineName\":null},\"ComparisonType\":2,\"Right\":{\"ValueTypeID\":\"2c6a4447-6aae-4a3f-94ec-854e5658775e\",\"Left\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":1,\"CounterID\":-150,\"CounterName\":\"Batches/sec\",\"CategoryName\":\"SQLServer:SQL Statistics\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null,\"GlobalBaselineName\":null},\"ArithmeticCompoundValueOperationType\":2,\"Right\":{\"ValueTypeID\":\"07f87b7f-c063-47a2-a5be-772ba85ed827\",\"Value\":\"0.15\"}},\"ID\":\"2\"}],\"BooleanOperationType\":0,\"ID\":\"0\"}","EvaluationFrequency":"00:00:30","IdlePeriod":"00:01:00","MaximumAllowedDuration":"00:00:05","AntiConditionID":"0df178a6-96c3-4857-9ca2-89bc40150473","MinWindowsVersion":null,"MaxWindowsVersion":null,"MinSQLServerVersion":null,"MaxSQLServerVersion":null,"MinSSASVersion":null,"MaxSSASVersion":null,"MinVmwareVersion":null,"MaxVmwareVersion":null,"MinSqlDbVersion":null,"MaxSqlDbVersion":null,"MaximumInstanceCount":1,"ColorIndicator":null,"Severity":0,"Signature":{"ConditionID":"74c4dde2-0049-4874-8590-80f0646b85d1","VersionNumber":4,"AppliesToObjectTypeID":"0a11a887-823a-4461-87af-321cad1c3623","RuleDefinition":"{\"OperationTypeID\":\"6c3d38f1-9317-4258-972a-cfee0a0d76b5\",\"Children\":[{\"OperationTypeID\":\"8fa3cd6a-960c-43bb-96e0-94092fc2c296\",\"ValueDataTypeID\":\"b35a57f5-b8f6-4e4e-9380-e9d328e3eabf\",\"Left\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":1,\"CounterID\":-150,\"CounterName\":\"Batches/sec\",\"CategoryName\":\"SQLServer:SQL Statistics\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null,\"GlobalBaselineName\":null},\"ComparisonType\":2,\"Right\":{\"ValueTypeID\":\"07f87b7f-c063-47a2-a5be-772ba85ed827\",\"Value\":\"100\"},\"ID\":\"1\"},{\"OperationTypeID\":\"8fa3cd6a-960c-43bb-96e0-94092fc2c296\",\"ValueDataTypeID\":\"b35a57f5-b8f6-4e4e-9380-e9d328e3eabf\",\"Left\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":1,\"CounterID\":-151,\"CounterName\":\"Compiles/sec\",\"CategoryName\":\"SQLServer:SQL Statistics\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null,\"GlobalBaselineName\":null},\"ComparisonType\":2,\"Right\":{\"ValueTypeID\":\"2c6a4447-6aae-4a3f-94ec-854e5658775e\",\"Left\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":1,\"CounterID\":-150,\"CounterName\":\"Batches/sec\",\"CategoryName\":\"SQLServer:SQL Statistics\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null,\"GlobalBaselineName\":null},\"ArithmeticCompoundValueOperationType\":2,\"Right\":{\"ValueTypeID\":\"07f87b7f-c063-47a2-a5be-772ba85ed827\",\"Value\":\"0.15\"}},\"ID\":\"2\"}],\"BooleanOperationType\":0,\"ID\":\"0\"}","PublisherID":0,"PublishDateUtc":"2017-10-06T18:23:03","Rights":0,"SignatureVersion":1,"SignaturePublicKey":"<RSAKeyValue><Modulus>uzJQ9gzevXFwOgw/hkcAtD+cA/bBbD1PRzhEZCxbZ6YwjJ1c9bbfXFItLQNwnm8bdWh2k57//qbpEj5DFHOW2EAjHc2Zw5m/vACm6OzelubPS5hbWvzshlaBJKm7KrpWQpPZClx/5eVvUVzOtlz+44RRTiOszObT58acJAQwA70=</Modulus><Exponent>AQAB</Exponent></RSAKeyValue>","Signature":"llpMTJbLbpyVyPCyCpxpK4+aaCg7N+GiFapMf0HxBqXvhyJNAB80FNtBpvkv+swuHZSLEbfzbHd6vUTKReSPVDCy48BIi5QBPFym1CAklHqDlKdWObwemEViFpAOWzprTOevojZwAfowUG0jZVhVqwFJ1XoGNsLuXnZRqsq0xO4=","IsSelfPublishedCondition":true},"Tags":"Performance,CPU,UpdateForPublish,11.2.3","Areas":["SQL Server: Activity"],"ConditionSystemVersion":3,"MinDBSchemaVersion":null,"MaxDBSchemaVersion":null,"Items":[]}]}]}